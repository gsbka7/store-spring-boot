#  文具購物網站
## 
# 01 【 框架解決的問題 】

## 1. 三層架構

1. 表現層：接收前端發送的請求、對請求進行處理、並返回結果給前端

2. 業務邏輯層：呼叫資料存取層，將資料庫中取得的資料，根據請求做邏輯處理(例如判斷user是否存在、再進行刪除)

3. 資料存取層：訪問資料庫，對資料庫進行增刪改查等操作

#### 關係

表現層呼叫業務邏輯層、業務邏輯層呼叫資料存取層

#### 優點

。 良好的共用性與擴充性

。 對修改關閉

。 後期維護成本低

。 有利於摽準化

## 2. 內聚、耦合

。 內聚：各個模組內部的功能聯繫

。 耦合：每個層與模組之間的依賴，關聯程度

。 設計原則：高內聚低耦合

>。 模組內部的功能聯繫越緊密越好
>
>。 盡可能地降低層與層或模組與模組間的依賴關聯
>
>。 最好能夠做到解除耦合，層與層之間就沒有依賴了。即使某個層的程式碼發生改動，也不會影響其他層的程式碼。靈活性與擴展性會更佳

#### 舉例：

>表現層(controller)使用呼叫業務邏輯層(service)：controller依賴了service的實體物件
>
>業務邏輯層(service)呼叫資料存取層(dao)：service依賴了dao的實體物件

## 2. OPC開閉原則

。 對擴展開放

。 對修改關閉

#### 核心

擴展功能時，沒有修改以前的程式碼，就是符合原則

當修改了以前的程式碼，所有的程式都需要進行重新測試

## 3. DIP原則(依賴反轉原則)

。 上不依賴下，符合依賴反轉原則

>違反依賴反轉原則：
>
>表現層(controller)使用呼叫業務邏輯層(service)：controller依賴了service的實體物件
>
>業務邏輯層(service)呼叫資料存取層(dao)：service依賴了dao的實體物件

。 面向接口，不要面向具體

>在類中只有接口，沒有實現類

。 降低耦合，提高擴展力

## 4. IoC控制反轉

。 一種編寫程式的思想，解決程式違反了OPC和DIP原則的設計模式

。 降低耦合度，提高擴展力

。 物件建立的控制權由程式自身轉移到外部(容器)

>不用new的方式來維護物件的關係
>
>new物件與物件之間的維護權利交由第三方容器管理

。 IoC容器中建立、管理的物件、稱為bean

### 1. Spring框架

。 實現了IoC控制反轉的思想

>幫助new實體化物件
>
>幫助維護物件與物件之間的關係

。 一個實現了IoC思想的容器

。 實現方式：依賴注入(DI)
>控制反轉是思想，依賴注入是思想的具體實現方式
>
>包含了兩種方式：set注入、構造方法注入

### 3. 依賴注入(DI)

。 容器為應用程式提供執行時所依賴的資源

#### 實現方式

。 第一種：set注入(執行set方法給屬性賦值)

```java
public void setName(String name) {
    this.name = name;
}
```

。 第二種：構造方法注入(執行構造方法給屬性賦值)

```java
public User(String name, String password) {
        this.name = name;
        this.password = password;
    }
```

。 依賴：A物件對B物件的關係

。 注入：一種資料傳遞行為，讓A物件與B物件產生關係

。 依賴注入：A物件對B物件之間的關係，依靠注入的手段來維持。注入包含set注入與構造方法注入

## 5. 術語

OPC：關閉原則(開發原則)

DIP：依賴倒置原則(開發原則)

IoC：控制反轉(一種思想，新型的設計模式)

DI：注入依賴(控制反轉思想的具體實現方式)


